<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#030711">
  <title>Contact Us - A&amp;B Innovation</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/index.css">
</head>
<body class="min-h-screen antialiased">
  <nav class="sticky top-0 z-50 bg-slate-950 bg-opacity-80 backdrop-blur-xl border-b border-white border-opacity-10">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20">
      <div class="flex items-center gap-4">
        <div class="w-14 h-14 rounded-2xl bg-white bg-opacity-5 border border-white border-opacity-15 flex items-center justify-center">
          <img src="/assets/product/logo.png" alt="A&amp;B Innovation logo" class="h-10 w-10 object-contain">
        </div>
        <div>
          <p class="text-xs uppercase tracking-[0.6em] text-gray-500">A&amp;B</p>
          <p class="text-xl font-semibold text-white">A&amp;B Innovation</p>
        </div>
      </div>
      <div class="hidden lg:flex items-center space-x-4 text-sm font-semibold">
        <a href="/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">Home</a>
        <a href="/services/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">Services</a>
        <a href="/products/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">Products</a>
        <a href="/gallery/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">Gallery</a>
        <a href="/about/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">About</a>
        <a href="/contact/" class="bg-white text-green-900 px-4 py-2 rounded-full border border-white hover:opacity-90 transition">Contact</a>
      </div>
      <div class="hidden lg:flex items-center space-x-3">
        <button type="button" class="ink-action text-sm bg-white text-green-900 border-white" data-search-trigger>
          <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"></path>
          </svg>
          Search
        </button>
        <a href="tel:+250785576541" class="ink-action text-sm bg-white text-green-900 border-white">
          Call dispatch
        </a>
      </div>
      <div class="flex items-center gap-3 lg:hidden">
        <button type="button" class="p-2 rounded-full border border-white border-opacity-20 text-gray-200" data-search-trigger>
          <span class="sr-only">Search catalog</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"></path>
          </svg>
        </button>
        <button type="button" class="p-2 rounded-full border border-white border-opacity-20 text-gray-200" id="mobile-menu-button" aria-expanded="false">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
  <div class="lg:hidden hidden border-t border-white border-opacity-10 bg-slate-950 bg-opacity-90" id="mobile-menu">
    <div class="px-4 py-4 space-y-2">
      <button type="button" class="w-full flex items-center justify-center ink-action bg-white text-green-900 border-white" data-search-trigger>
        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"></path>
        </svg>
        Search catalog
      </button>
      <a href="/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">Home</a>
      <a href="/services/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">Services</a>
      <a href="/products/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">Products</a>
      <a href="/gallery/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">Gallery</a>
      <a href="/about/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">About</a>
      <a href="/contact/" class="block px-4 py-2 rounded-full bg-white text-green-900 border border-white">Contact</a>
      <a href="tel:+250785576541" class="block text-center ink-action bg-white text-green-900 border-white w-full">Call dispatch</a>
    </div>
  </div>
</nav>

<script>
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      const expanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
      mobileMenuButton.setAttribute('aria-expanded', (!expanded).toString());
    });
  }
</script>

  <div id="global-search-overlay" class="hidden fixed inset-0 bg-slate-950 bg-opacity-90 backdrop-blur-2xl px-4 py-12 z-50 overflow-y-auto">
    <div class="w-full max-w-3xl mx-auto">
      <div class="ink-card p-8 relative space-y-6">
        <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-6">
          <div>
            <p class="ink-chip text-xs">Quick lookup</p>
            <h2 class="text-3xl font-semibold mt-3">Search products & services</h2>
            <p class="text-sm text-gray-500">Type at least two letters and press Enter to open the leading suggestion.</p>
          </div>
          <button type="button" class="ink-action ink-action--secondary px-4 py-2 text-sm" data-search-close>
            Close overlay
          </button>
        </div>
        <div class="relative">
          <input id="global-search-input" type="text" placeholder="Search devices, services, accessories..." class="w-full filter-input pl-12 pr-4 py-3 text-base bg-transparent" autocomplete="off" />
          <svg class="w-5 h-5 absolute left-4 top-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"></path>
          </svg>
        </div>
        <div id="global-search-results" class="space-y-3 max-h-80 overflow-y-auto pr-1">
          <p class="text-sm text-gray-500">Start typing to see matching items.</p>
        </div>
        <div class="flex flex-wrap gap-3">
          <button type="button" class="ink-action ink-action--secondary" data-search-close>Cancel</button>
          <a href="/contact/" class="ink-action ink-action--primary">Talk to an engineer</a>
        </div>
      </div>
    </div>
  </div>
  <main class="relative z-10">
    
<section class="px-4 sm:px-6 lg:px-8 py-20">
  <div class="max-w-6xl mx-auto space-y-10">
    <div class="text-center space-y-3">
      <p class="ink-chip">Contact</p>
      <h1 class="text-4xl font-bold">Talk directly to our engineers.</h1>
      <p class="text-gray-400">Skip the forms. Call, WhatsApp, or drop a note and the dispatch desk will respond immediately.</p>
    </div>
    <div class="grid md:grid-cols-2 gap-12">
      <div class="ink-card p-8 space-y-6">
        <div class="space-y-3">
          <p class="text-xs uppercase tracking-[0.4em] text-gray-500">Get in touch</p>
          <h2 class="text-2xl font-bold">We're reachable 24/7</h2>
        </div>
        <div class="space-y-4 text-sm text-gray-300">
          <div class="flex items-start gap-3">
            <svg class="w-5 h-5 text-blue-400 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
            </svg>
            <div>
              <p class="font-semibold text-white">Address</p>
              <p>123 Tech Avenue, Kigali, Rwanda</p>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <svg class="w-5 h-5 text-blue-400 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            <div>
              <p class="font-semibold text-white">Phone</p>
              <a href="tel:+250785576541" class="text-blue-400 hover:text-blue-200 transition">+250 785 576 541</a>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <svg class="w-5 h-5 text-blue-400 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
            </svg>
            <div>
              <p class="font-semibold text-white">Email</p>
              <a href="mailto:technicprosolution@gmail.com" class="text-blue-400 hover:text-blue-200 transition">technicprosolution@gmail.com</a>
            </div>
          </div>
          <div class="flex items-start gap-3">
            <svg class="w-5 h-5 text-blue-400 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div>
              <p class="font-semibold text-white">Working hours</p>
              <p>All days · 24 hours</p>
            </div>
          </div>
        </div>
      </div>
      <div class="ink-card p-8 space-y-6">
        <div>
          <h3 class="text-xl font-bold">Talk to our team</h3>
          <p class="text-gray-400 text-sm">Skip the form and connect instantly. Call us or start a WhatsApp chat and we will respond right away.</p>
        </div>
        <div id="cart-summary" class="hidden ink-card ink-card--soft p-4 space-y-4">
          <div class="flex items-center justify-between gap-4">
            <div>
              <p class="text-xs uppercase tracking-[0.3em] text-gray-500">WhatsApp Cart</p>
              <p class="text-lg font-semibold" data-contact-cart-count>0 items selected</p>
              <p class="text-sm font-semibold text-gray-400" data-contact-cart-total>Estimated total: --</p>
            </div>
            <button type="button" class="text-xs text-blue-400 hover:text-blue-200 font-semibold" data-contact-cart-clear>Clear all</button>
          </div>
          <div id="cart-items-list" class="space-y-4"></div>
        </div>
        <div id="cart-empty" class="text-sm text-gray-500 border border-dashed border-white border-opacity-20 rounded-2xl p-4">
          Select products across categories and use the "Add to WhatsApp cart" button to see them listed here.
        </div>
        <div class="flex flex-col sm:flex-row gap-4">
          <a id="contact-phone" href="tel:+250785576541" class="flex-1 inline-flex items-center justify-center gap-2 ink-action ink-action--primary">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            Call us
          </a>
          <a id="contact-whatsapp" href="https://wa.me/250785576541" target="_blank" rel="noopener noreferrer" class="flex-1 inline-flex items-center justify-center gap-2 ink-action ink-action--secondary border border-green-400 text-green-300">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2a9.93 9.93 0 00-7.07 2.93A9.9 9.9 0 002 12a9.92 9.92 0 001.64 5.47L2 22l4.7-1.51A9.94 9.94 0 0012 22a10 10 0 000-20zm0 18a8 8 0 01-4.08-1.1l-.29-.17-2.79.89.91-2.71-.18-.28A7.94 7.94 0 014 12a8 8 0 018-8 8.07 8.07 0 015.66 2.34A7.94 7.94 0 0120 12a8 8 0 01-8 8zm4.35-5.65c-.24-.12-1.43-.71-1.65-.79s-.38-.12-.54.12-.62.79-.76.95-.28.18-.52.06a6.49 6.49 0 01-1.91-1.18 7 7 0 01-1.3-1.61c-.14-.24 0-.37.11-.49s.24-.28.37-.43a1.65 1.65 0 00.24-.41.44.44 0 000-.42c-.06-.12-.54-1.3-.74-1.78s-.39-.41-.54-.42h-.46a.89.89 0 00-.64.3 2.71 2.71 0 00-.85 2c0 1.18.85 2.33 1 2.5s1.67 2.55 4 3.48a13.49 13.49 0 001.35.4 3.25 3.25 0 001.49.09 2.44 2.44 0 001.6-1.09 2 2 0 00.14-1.09c-.06-.09-.21-.15-.45-.27z" />
            </svg>
            Chat on WhatsApp
          </a>
        </div>
        <p class="text-sm text-gray-400">Our engineers are available 24/7 to answer service questions, help you plan an installation, or handle urgent support.</p>
      </div>
    </div>
  </div>
</section>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const WHATSAPP_NUMBER = '250785576541';
    const DEFAULT_MESSAGE = 'Hello, I would like to speak with A&B Innovation about your products and services.';
    const cartSummary = document.getElementById('cart-summary');
    const cartEmptyState = document.getElementById('cart-empty');
    const cartList = document.getElementById('cart-items-list');
    const cartCount = document.querySelector('[data-contact-cart-count]');
    const cartTotalText = document.querySelector('[data-contact-cart-total]');
    const clearButton = document.querySelector('[data-contact-cart-clear]');
    const whatsappButton = document.getElementById('contact-whatsapp');
    const whatsappCart = window.abInnovationCart || null;
    let unsubscribe = null;
    const formatTotal = (amount) => {
      if (whatsappCart && typeof whatsappCart.formatCurrency === 'function') {
        const formatted = whatsappCart.formatCurrency(amount);
        if (formatted) {
          return formatted;
        }
      }
      if (typeof amount !== 'number' || !Number.isFinite(amount) || amount <= 0) {
        return '';
      }
      return `RWF ${Math.round(amount).toLocaleString('en-US')}`;
    };

    const setWhatsappLink = (items) => {
      if (!whatsappButton) {
        return;
      }
      const baseMessage = (whatsappCart && typeof whatsappCart.buildMessage === 'function')
        ? whatsappCart.buildMessage(items)
        : DEFAULT_MESSAGE;
      const encoded = encodeURIComponent((baseMessage || DEFAULT_MESSAGE).trim());
      whatsappButton.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${encoded}`;
    };

    const renderCartItems = (items) => {
      const hasItems = items && items.length > 0;
      if (cartSummary) {
        cartSummary.classList.toggle('hidden', !hasItems);
      }
      if (cartEmptyState) {
        cartEmptyState.classList.toggle('hidden', hasItems);
      }
      if (cartCount) {
        cartCount.textContent = hasItems ? `${items.length} item${items.length === 1 ? '' : 's'} selected` : 'No items selected';
      }
      if (cartTotalText) {
        const totalAmount = items.reduce((sum, item) => sum + (item.amount || 0), 0);
        cartTotalText.textContent = totalAmount ? `Estimated total: ${formatTotal(totalAmount)}` : 'Estimated total: --';
      }
      if (cartList) {
        if (!hasItems) {
          cartList.innerHTML = '';
        } else {
          cartList.innerHTML = items.map((item) => `
            <div class="flex gap-4 items-start border border-white rounded-2xl bg-white p-3 shadow-sm">
              <img src="${item.image || 'https://via.placeholder.com/96x96?text=Item'}" alt="${item.title || 'Selected item'}" class="w-20 h-20 rounded-xl object-cover border border-gray-100">
              <div class="flex-1 space-y-1">
                <p class="font-semibold text-gray-900">${item.title || 'Selected item'}</p>
                <p class="text-sm text-gray-500">${item.category || 'Product'}${item.price ? ` - ${item.price}` : ''}</p>
                <p class="text-sm text-gray-600">${item.description || ''}</p>
                ${item.url ? `<a href="${item.url}" class="text-xs text-blue-600 hover:text-blue-800 font-semibold" target="_blank" rel="noopener noreferrer">View product</a>` : ''}
              </div>
              <button type="button" class="text-xs text-red-600 hover:text-red-700 font-semibold" data-cart-remove="${item.id}">Remove</button>
            </div>
          `).join('');
        }
      }
      setWhatsappLink(items || []);
    };

    const initialItems = whatsappCart && typeof whatsappCart.getItems === 'function'
      ? whatsappCart.getItems()
      : [];
    renderCartItems(initialItems);

    if (cartList) {
      cartList.addEventListener('click', (event) => {
        const removeButton = event.target.closest('[data-cart-remove]');
        if (removeButton && whatsappCart && typeof whatsappCart.removeItem === 'function') {
          event.preventDefault();
          whatsappCart.removeItem(removeButton.getAttribute('data-cart-remove'));
        }
      });
    }

    if (clearButton && whatsappCart && typeof whatsappCart.clear === 'function') {
      clearButton.addEventListener('click', () => whatsappCart.clear());
    }

    if (whatsappCart && typeof whatsappCart.subscribe === 'function') {
      unsubscribe = whatsappCart.subscribe(renderCartItems);
    }

    window.addEventListener('beforeunload', () => {
      if (typeof unsubscribe === 'function') {
        unsubscribe();
      }
    });
  });
</script>

  </main>
  <div id="whatsapp-cart" class="hidden fixed bottom-5 right-5 w-full max-w-sm px-4 sm:px-0 z-40">
    <div class="ink-card ink-card--soft p-5 space-y-4 border border-white border-opacity-10">
      <div class="flex items-center justify-between gap-4">
        <div>
          <p class="text-xs uppercase tracking-[0.3em] text-blue-500">WhatsApp Cart</p>
          <p class="text-lg font-semibold" data-cart-count>0 items selected</p>
        </div>
        <button type="button" class="text-xs text-gray-500 hover:text-gray-300 font-semibold" data-cart-clear>Clear</button>
      </div>
      <p class="text-sm text-gray-500" data-cart-preview>Add products to get started.</p>
      <p class="text-sm font-semibold" data-cart-total-label></p>
      <div class="flex flex-col sm:flex-row gap-2">
        <a href="/contact/" class="flex-1 inline-flex items-center justify-center ink-action ink-action--secondary text-sm" data-cart-review>Review items</a>
        <button type="button" class="flex-1 inline-flex items-center justify-center ink-action ink-action--primary text-sm" data-cart-send disabled>Send on WhatsApp</button>
      </div>
    </div>
  </div>
  <section class="px-4 sm:px-6 lg:px-8 py-10">
    <div class="max-w-6xl mx-auto">
      <div class="ink-card ink-card--soft p-6 sm:p-8 text-sm space-y-3">
        <div class="flex flex-wrap items-center gap-3">
          <span class="ink-chip">Service terms</span>
          <p class="text-xs text-gray-500">Transparent logistics & installation policy</p>
        </div>
        <p><strong>Payment policy:</strong> Pay after receiving standard products. For delivery + installation, settle 50% before dispatch and the remaining 50% once installation is completed. Installations outside Kigali can be negotiated.</p>
        <p><strong>Delivery:</strong> Free within Kigali. Outside Kigali, delivery terms are negotiable based on destination.</p>
      <p><strong>Installation-only:</strong> If you prefer A&amp;B Innovation to install equipment you already have on site, services are available and priced on a negotiated rate.</p>
      </div>
    </div>
  </section>
  <footer class="bg-slate-950 bg-opacity-80 border-t border-white border-opacity-10 mt-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="grid gap-10 lg:grid-cols-4">
      <div class="space-y-4">
        <p class="ink-chip">A&amp;B Innovation</p>
        <p class="text-2xl font-semibold">Engineering immersive, resilient infrastructure for Africa.</p>
        <p class="text-sm text-gray-500">CCTV, networking, HVAC, fire safety, power, and digital experiences orchestrated by a single crew.</p>
        <div class="flex flex-wrap gap-3">
          <a href="/contact/" class="ink-action ink-action--primary text-sm">Schedule a discovery call</a>
          <a href="/gallery/" class="ink-action ink-action--secondary text-sm">See deployments</a>
        </div>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.4em] text-gray-500 mb-4">Navigation</p>
        <ul class="space-y-2 text-sm text-gray-400">
          <li><a href="/" class="hover:text-white transition">Home</a></li>
          <li><a href="/services/" class="hover:text-white transition">Services</a></li>
          <li><a href="/products/" class="hover:text-white transition">Product catalog</a></li>
          <li><a href="/gallery/" class="hover:text-white transition">Project gallery</a></li>
          <li><a href="/about/" class="hover:text-white transition">About the team</a></li>
          <li><a href="/contact/" class="hover:text-white transition">Contact & support</a></li>
        </ul>
      </div>
      <div>
        <p class="text-xs uppercase tracking-[0.4em] text-gray-500 mb-4">Reach us</p>
        <ul class="space-y-3 text-sm text-gray-400">
          <li>
            <p class="font-semibold text-white">Dispatch line</p>
            <a href="tel:+250785576541" class="hover:text-white transition">+250 785 576 541</a>
          </li>
          <li>
            <p class="font-semibold text-white">Email</p>
            <a href="mailto:technicprosolution@gmail.com" class="hover:text-white transition">technicprosolution@gmail.com</a>
          </li>
          <li>
            <p class="font-semibold text-white">Office</p>
            <p class="text-gray-500">123 Tech Avenue, Kigali, Rwanda</p>
          </li>
        </ul>
      </div>
      <div class="space-y-4">
        <p class="text-xs uppercase tracking-[0.4em] text-gray-500">Operations</p>
        <div class="ink-card p-4 space-y-2 text-sm">
          <p class="text-gray-400">Working hours</p>
          <p class="text-lg font-semibold text-white">24/7 response crews</p>
          <p class="text-gray-500 text-sm">Emergency technicians available in Kigali and across the region.</p>
        </div>
        <div class="ink-card p-4 space-y-2 text-sm">
          <p class="text-gray-400">WhatsApp command</p>
          <p class="text-lg font-semibold text-white">+250 785 576 541</p>
          <p class="text-gray-500 text-sm">Send your cart or ping us for immediate coordination.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="border-t border-white border-opacity-5 text-center text-xs text-gray-500 py-6">
    © 2026 A&amp;B Innovation — Built with Eleventy & human touch.
  </div>
</footer>

  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script id="global-search-data" type="application/json">
        []

  </script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const overlay = document.getElementById('global-search-overlay');
      const input = document.getElementById('global-search-input');
      const results = document.getElementById('global-search-results');
      const dataElement = document.getElementById('global-search-data');
      if (!overlay || !input || !results || !dataElement) {
        return;
      }

      let staticEntries = [];
      try {
        staticEntries = JSON.parse(dataElement.textContent.trim()) || [];
      } catch (error) {
        console.error('Failed to parse search index', error);
      }
      let searchIndex = staticEntries.slice();
      let indexReady = false;
      const remoteIndexUrl = '/assets/search-index.json';
      let remoteIndexPromise = null;

      const triggers = document.querySelectorAll('[data-search-trigger]');
      const closeButtons = overlay.querySelectorAll('[data-search-close]');

      const fetchRemoteIndex = () => {
        if (!remoteIndexPromise) {
          remoteIndexPromise = fetch(remoteIndexUrl, { cache: 'force-cache' })
            .then(response => response.ok ? response.json() : [])
            .catch(() => []);
        }
        return remoteIndexPromise;
      };

      const collectDynamicEntries = () => {
        return Array.from(document.querySelectorAll('[data-search-entry]')).map(node => {
          const title = (node.dataset.searchTitle || node.getAttribute('data-search-title') || '').trim();
          const url = (node.dataset.searchUrl || node.getAttribute('data-search-url') || '').trim();
          if (!title || !url) {
            return null;
          }
          return {
            title,
            category: (node.dataset.searchCategory || node.getAttribute('data-search-category') || 'Products').trim(),
            description: (node.dataset.searchDescription || node.getAttribute('data-search-description') || '').trim(),
            url
          };
        }).filter(Boolean);
      };

      const refreshSearchIndex = () => {
        indexReady = false;
        return fetchRemoteIndex().then(remoteEntries => {
          const unique = new Map();
          [...staticEntries, ...(remoteEntries || []), ...collectDynamicEntries()].forEach(item => {
            const key = `${item.title}-${item.url}`;
            if (!unique.has(key)) {
              unique.set(key, item);
            }
          });
          searchIndex = Array.from(unique.values());
          indexReady = true;
        }).catch(() => {
          const unique = new Map();
          [...staticEntries, ...collectDynamicEntries()].forEach(item => {
            const key = `${item.title}-${item.url}`;
            if (!unique.has(key)) {
              unique.set(key, item);
            }
          });
          searchIndex = Array.from(unique.values());
          indexReady = true;
        });
      };

      const lockScroll = (shouldLock) => {
        document.body.classList.toggle('overflow-hidden', shouldLock);
      };

      const openOverlay = () => {
        overlay.classList.remove('hidden');
        input.value = '';
        results.innerHTML = '<p class="text-sm text-gray-500">Loading search index...</p>';
        lockScroll(true);
        setTimeout(() => input.focus(), 100);
        refreshSearchIndex().then(() => renderResults(''));
      };

      const closeOverlay = () => {
        overlay.classList.add('hidden');
        lockScroll(false);
      };

      const getMatches = (term) => {
        if (!term) {
          return searchIndex.slice(0, 12);
        }
        const q = term.toLowerCase();
        return searchIndex.filter(item => {
          return `${item.title} ${item.description} ${item.category} ${item.keywords || ''}`.toLowerCase().includes(q);
        }).slice(0, 12);
      };

      const renderResults = (term) => {
        const matches = getMatches(term);
        if (!matches.length) {
          results.innerHTML = '<p class="text-sm text-gray-500">No matches yet. Try refining your keywords.</p>';
          return;
        }

        results.innerHTML = matches.map(item => `
          <a href="${item.url}" class="block border border-gray-200 rounded-2xl px-4 py-3 hover:border-blue-500 hover:-translate-y-0.5 transition transform">
            <div class="flex items-center justify-between text-xs uppercase tracking-wide text-blue-500">
              <span>${item.category}</span>
              <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </div>
            <p class="text-lg font-semibold text-gray-900 mt-1">${item.title}</p>
            <p class="text-sm text-gray-500 mt-1">${item.description}</p>
          </a>
        `).join('');
      };

      triggers.forEach(button => button.addEventListener('click', () => openOverlay()));
      closeButtons.forEach(button => button.addEventListener('click', () => closeOverlay()));

      overlay.addEventListener('click', (event) => {
        if (event.target === overlay) {
          closeOverlay();
        }
      });

      input.addEventListener('input', (event) => {
        if (!indexReady) {
          results.innerHTML = '<p class="text-sm text-gray-500">Loading search index...</p>';
          return;
        }
        renderResults(event.target.value.trim());
      });

      document.addEventListener('keydown', (event) => {
        if (overlay.classList.contains('hidden')) {
          return;
        }
        if (event.key === 'Escape') {
          closeOverlay();
        }
        if (event.key === 'Enter') {
          if (!indexReady) {
            return;
          }
          const firstResult = results.querySelector('a');
          if (firstResult) {
            firstResult.click();
          }
        }
      });
    });
  </script>
  <script>
    (function() {
      const CART_STORAGE_KEY = 'abinnovation-cart-items';
      const WHATSAPP_NUMBER = '250785576541';
      const DEFAULT_MESSAGE = 'Hello, I would like to speak with A&B Innovation about your products and services.';
      const subscribers = new Set();
      const state = {
        cart: []
      };

      const parsePriceText = (value) => {
        if (value === undefined || value === null) {
          return null;
        }
        const numeric = String(value).replace(/[^0-9.]/g, '');
        if (!numeric) {
          return null;
        }
        const parsed = parseFloat(numeric);
        return Number.isFinite(parsed) ? parsed : null;
      };

      const formatCurrency = (amount) => {
        if (typeof amount !== 'number' || !Number.isFinite(amount) || amount <= 0) {
          return '';
        }
        return `RWF ${Math.round(amount).toLocaleString('en-US')}`;
      };

      const normalizeItem = (item) => {
        if (!item) {
          return null;
        }
        const normalized = Object.assign({}, item);
        const parsedAmount = typeof normalized.amount === 'number' && Number.isFinite(normalized.amount)
          ? normalized.amount
          : parsePriceText(normalized.price);
        normalized.amount = parsedAmount || null;
        return normalized;
      };

      const readCartFromStorage = () => {
        try {
          const stored = sessionStorage.getItem(CART_STORAGE_KEY);
          if (!stored) {
            return [];
          }
          const parsed = JSON.parse(stored);
          if (Array.isArray(parsed)) {
            return parsed.map(normalizeItem).filter(item => item && item.id);
          }
          return [];
        } catch (error) {
          console.warn('Unable to read cart state', error);
          return [];
        }
      };

      state.cart = readCartFromStorage();

      const persistCart = () => {
        try {
          sessionStorage.setItem(CART_STORAGE_KEY, JSON.stringify(state.cart));
        } catch (error) {
          console.warn('Unable to persist cart selection', error);
        }
      };

      const getItems = () => state.cart.slice();
      const getCartTotal = () => state.cart.reduce((sum, item) => sum + (item.amount || 0), 0);

      const findIndex = (id) => {
        if (!id) {
          return -1;
        }
        return state.cart.findIndex(item => item.id === id);
      };

      const buildCartMessage = (items) => {
        if (!items || !items.length) {
          return DEFAULT_MESSAGE;
        }
        const lines = [
          'Hello, I would like to discuss the following A&B Innovation items:',
          ''
        ];
        items.forEach((item, index) => {
          const displayPrice = item.price || (item.amount ? formatCurrency(item.amount) : '');
          lines.push(`${index + 1}. ${item.title || 'Unnamed item'}${displayPrice ? ` (${displayPrice})` : ''}`);
          if (item.category) {
            lines.push(`   Category: ${item.category}`);
          }
          if (item.description) {
            lines.push(`   Details: ${item.description}`);
          }
          if (item.url) {
            lines.push(`   Link: ${item.url}`);
          }
          lines.push('');
        });
        lines.push('Please advise pricing, delivery, and installation support.');
        return lines.join('\n');
      };

      const updateToggleButtons = () => {
        const items = getItems();
        document.querySelectorAll('[data-cart-toggle]').forEach((button) => {
          const id = button.getAttribute('data-cart-id');
          const isSelected = findIndex(id) !== -1;
          const label = button.querySelector('[data-cart-label]');
          if (label) {
            label.textContent = isSelected ? 'Added to WhatsApp cart' : 'Add to WhatsApp cart';
          }
          button.classList.toggle('bg-green-600', isSelected);
          button.classList.toggle('text-white', isSelected);
          button.classList.toggle('border-green-600', isSelected);
          button.classList.toggle('border-gray-300', !isSelected);
          button.classList.toggle('text-gray-900', !isSelected);
        });
      };

      const updateFloatingWidget = () => {
        const wrapper = document.getElementById('whatsapp-cart');
        if (!wrapper) {
          return;
        }
        const count = state.cart.length;
        wrapper.classList.toggle('hidden', count === 0);
        const countNode = wrapper.querySelector('[data-cart-count]');
        if (countNode) {
          countNode.textContent = count ? `${count} item${count === 1 ? '' : 's'} selected` : '0 items selected';
        }
        const previewNode = wrapper.querySelector('[data-cart-preview]');
        if (previewNode) {
          if (!count) {
            previewNode.textContent = 'Add products to get started.';
          } else {
            const titles = state.cart.map(item => item.title || 'Unnamed item').slice(0, 3);
            previewNode.textContent = titles.join(', ') + (count > 3 ? ` +${count - 3} more` : '');
          }
        }
        const totalNode = wrapper.querySelector('[data-cart-total-label]');
        if (totalNode) {
          const totalAmount = getCartTotal();
          totalNode.textContent = totalAmount ? `Estimated total: ${formatCurrency(totalAmount)}` : 'Estimated total: --';
        }
        const sendButton = wrapper.querySelector('[data-cart-send]');
        if (sendButton) {
          sendButton.disabled = count === 0;
          sendButton.classList.toggle('opacity-50', count === 0);
          sendButton.classList.toggle('cursor-not-allowed', count === 0);
        }
      };

      const notify = () => {
        updateToggleButtons();
        updateFloatingWidget();
        subscribers.forEach((callback) => {
          try {
            callback(getItems());
          } catch (error) {
            console.warn('Cart subscriber error', error);
          }
        });
      };

      const addItem = (item) => {
        const normalized = normalizeItem(item);
        if (!normalized || !normalized.id) {
          return;
        }
        const index = findIndex(normalized.id);
        if (index === -1) {
          state.cart.push(normalized);
        } else {
          state.cart[index] = Object.assign({}, state.cart[index], normalized);
        }
        persistCart();
        notify();
      };

      const removeItem = (id) => {
        const index = findIndex(id);
        if (index === -1) {
          return;
        }
        state.cart.splice(index, 1);
        persistCart();
        notify();
      };

      const toggleItem = (item) => {
        if (!item || !item.id) {
          return;
        }
        if (findIndex(item.id) === -1) {
          addItem(item);
        } else {
          removeItem(item.id);
        }
      };

      const clearCart = () => {
        if (!state.cart.length) {
          return;
        }
        state.cart = [];
        persistCart();
        notify();
      };

      const readItemFromNode = (node) => {
        const get = (attr, fallbackAttr) => node.getAttribute(attr) || (fallbackAttr ? node.getAttribute(fallbackAttr) : '') || '';
        const title = get('data-cart-title', 'data-order-title');
        const id = get('data-cart-id') || `${title}-${get('data-cart-price', 'data-order-price')}`;
        return normalizeItem({
          id,
          title,
          price: get('data-cart-price', 'data-order-price'),
          description: get('data-cart-desc', 'data-order-desc'),
          image: get('data-cart-img', 'data-order-img'),
          category: get('data-cart-category', 'data-order-category'),
          url: get('data-cart-url') || node.getAttribute('href') || window.location.href
        });
      };

      const sendCartToWhatsApp = () => {
        const message = buildCartMessage(getItems());
        const encoded = encodeURIComponent(message.trim());
        const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encoded}`;
        window.open(url, '_blank');
      };

      document.addEventListener('click', (event) => {
        const toggle = event.target.closest('[data-cart-toggle]');
        if (toggle) {
          event.preventDefault();
          toggleItem(readItemFromNode(toggle));
          return;
        }
        const clearButton = event.target.closest('[data-cart-clear]');
        if (clearButton) {
          event.preventDefault();
          clearCart();
          return;
        }
        const sendButton = event.target.closest('[data-cart-send]');
        if (sendButton) {
          event.preventDefault();
          if (getItems().length) {
            sendCartToWhatsApp();
          }
        }
      });

      window.abInnovationCart = {
        getItems,
        getTotal: () => getCartTotal(),
        addItem,
        removeItem,
        toggleItem,
        clear: clearCart,
        buildMessage: buildCartMessage,
        formatCurrency,
        subscribe: (callback) => {
          if (typeof callback !== 'function') {
            return () => {};
          }
          subscribers.add(callback);
          return () => subscribers.delete(callback);
        }
      };

      notify();
    })();
  </script>
</body>
</html>
